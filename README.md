

# üìò Documenta√ß√£o: Como Rodar o Projeto Java `GuardouPagou`

## üìÖ Clonando o Reposit√≥rio

Voc√™ pode clonar o projeto diretamente do GitHub:

üîó Reposit√≥rio: [https://github.com/GBIFRS/GuardouPagou.git](https://github.com/GBIFRS/GuardouPagou.git)

### üìå Comando:

```bash
git clone https://github.com/GBIFRS/GuardouPagou.git

```

> Certifique-se de ter o **Git** instalado na m√°quina antes de executar esse comando.

----------

## üì¶ Pr√©-requisitos

Antes de executar o projeto, instale os seguintes componentes:

### ‚òï Java

-   **Java JDK 21**

-   **JavaFX SDK 21.0.7**


üìÖ Baixe via Oracle JDK ou OpenJDK.

### üêò Banco de Dados

-   **PostgreSQL 17.4-1**


### üîó Bibliotecas Necess√°rias

-   `postgresql-42.7.5.jar` ‚Üí Driver JDBC

-   `jakarta.mail-2.1.2.jar` ‚Üí Para envio de e-mails

-   `jakarta.activation-2.1.2.jar` ‚Üí Para anexos e conte√∫dos em e-mail


### üíª IDE

-   **NetBeans 25** (opcional, mas recomendado) ou **IntelliJ IDEA**


----------

## üõ†Ô∏è Passo a Passo: NetBeans

### 1. Criar Projeto

-   Crie um novo projeto:  
    `Java with Ant -> Java Application`  
    Nome: `GuardouPagou`


### 2. Importar os Arquivos

-   Copie **todos os arquivos clonados** do reposit√≥rio para o novo projeto.

-   No menu **Files**, arraste `DataBaseConnection.java` da raiz do projeto para o caminho:

    ```
    src/com/GuardouPagou/models/
    
    ```

    > Remova a extens√£o `.txt` do final do arquivo.


### 3. Configurar Pastas e Bibliotecas

-   Clique com bot√£o direito no projeto > **Properties**:

  -   Em **Sources**:

    -   `Add Folder` > adicione as pastas `libs` e `resources`

  -   Em **Libraries > Modulepath**:

    -   Adicione todos os `.jar` nas seguintes pastas:

      -   `libs/java-database/`

      -   `libs/java-email/`

      -   `libs/javafx-sdk-21.0.7/lib/`


### 4. Configurar Compila√ß√£o

-   V√° em **Compiling > Additional Compiler Options** e adicione:


```bash
--module-path "CaminhoCompleto\NetBeansProjects\GuardouPagou\libs\javafx-sdk-21.0.7\lib;CaminhoCompleto\NetBeansProjects\GuardouPagou\libs\jakarta.mail-2.0.1.jar" --add-modules javafx.controls,javafx.fxml,jakarta.mail

```

### 5. Configurar Execu√ß√£o

-   Em **Run > VM Options**, adicione o mesmo comando acima.

-   Defina a **Main Class** como:


```text
com.GuardouPagou.models.Main

```

----------

## üóÉÔ∏è Configurar o Banco de Dados (PostgreSQL)

1.  Acesse o **pgAdmin**

2.  Crie uma nova database chamada:


```text
guardoupagou

```

3.  Execute os comandos SQL abaixo:


```sql
CREATE TABLE marcas (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(100) NOT NULL UNIQUE,
    descricao VARCHAR(500),
    cor VARCHAR(7) NOT NULL
);

CREATE TABLE notas_fiscais (
    id SERIAL PRIMARY KEY,
    numero_nota VARCHAR(50) NOT NULL UNIQUE,
    data_emissao DATE NOT NULL,
    marca_id INTEGER,
    status VARCHAR(20) DEFAULT 'Ativa',
    criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    arquivada BOOLEAN DEFAULT FALSE,
    data_arquivamento DATE,
    atualizado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT fk_marca FOREIGN KEY (marca_id) REFERENCES marcas(id)
);

CREATE TABLE faturas (
    id SERIAL PRIMARY KEY,
    nota_fiscal_id INTEGER REFERENCES notas_fiscais(id) ON DELETE CASCADE,
    vencimento DATE NOT NULL,
    valor DECIMAL(10,2) NOT NULL,
    numero_fatura VARCHAR(50),
    status VARCHAR(20) DEFAULT 'N√£o Emitida',
    criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    atualizado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE alerta_emails (
    id SERIAL PRIMARY KEY,
    email VARCHAR(255) NOT NULL UNIQUE
);

```

----------

## üîê Configura√ß√£o de E-mail no `project.properties`

1.  Abra o arquivo:


```
nbproject/project.properties

```

2.  Adicione ao final do arquivo:


```properties
run.jvmargs=-DMAIL_USER=seu_email@gmail.com -DMAIL_PASS="sua_senha_de_app" -DMAIL_HOST=smtp.gmail.com --module-path "CaminhoCompleto\GuardouPagou\libs\javafx-sdk-21.0.7\lib;CaminhoCompleto\GuardouPagou\libs\jakarta.mail-2.0.1.jar" --add-modules javafx.controls,javafx.fxml,jakarta.mail

```

----------

## ‚úâÔ∏è Configurar `EmailSender.java`

1.  Abra o arquivo `EmailSender.java`

2.  Descomente a parte **"Usando NetBeans"** dentro da classe `public class EmailSender`


----------

## ‚ñ∂Ô∏è Executar o Projeto no NetBeans

Ap√≥s concluir todos os passos, clique em **Run Project (F6)** para iniciar o GuardouPagou.

----------

## üíª Passo a Passo: IntelliJ IDEA

### 1. Abrir o Projeto

-   Ap√≥s clonar o reposit√≥rio, abra a pasta pela IDE.


### 2. Configurar Estrutura do Projeto

-   Pressione: `Ctrl + Shift + Alt + S` ‚Üí **Project Structure**

-   V√° em **Libraries**:

  -   Clique em ‚ûï e selecione os arquivos `.jar` nas pastas:

    -   `libs/java-database/`

    -   `libs/java-email/`

    -   `libs/javafx-sdk-21.0.7/lib/`

-   V√° em **Modules > Sources**:

  -   Marque:

    -   `src` como **Sources**

    -   `resources` como **Resources**

-   V√° em **Dependencies**:

  -   Verifique se:

    -   O **SDK √© Java 21**

    -   As bibliotecas est√£o com escopo **Compile**


### 3. Configurar Execu√ß√£o

-   V√° em **Run > Edit Configurations**:

  -   Clique em ‚ûï ‚Üí **Application**

    -   **Name**: `Main`

    -   **Main Class**: `com.GuardouPagou.models.Main`

    -   **VM Options**:


```bash
--module-path "CaminhoCompleto\GuardouPagou\libs\javafx-sdk-21.0.7\lib;CaminhoCompleto\GuardouPagou\libs\jakarta.mail-2.0.1.jar" --add-modules javafx.controls,javafx.fxml,jakarta.mail

```

-   **Environment Variables**:


```env
MAIL_HOST=smtp.gmail.com;MAIL_PASS=sua_senha_de_app;MAIL_USER=seu_email@gmail.com

```

----------

## üóÉÔ∏è Repetir Configura√ß√£o do Banco de Dados (PostgreSQL)

Execute os **mesmos comandos SQL** da se√ß√£o anterior para criar as tabelas no banco `guardoupagou`.

----------

## ‚ñ∂Ô∏è Executar o Projeto no IntelliJ

Ap√≥s tudo configurado, clique em **Run (Shift + F10)** para iniciar o projeto.


-- Se migrando dados de um banco antigo:
```sql
UPDATE notas_fiscais n
SET marca_id = m.id
FROM marcas m
WHERE m.nome = n.marca;

ALTER TABLE notas_fiscais ADD COLUMN marca_id INTEGER;

UPDATE notas_fiscais n
SET marca_id = m.id
FROM marcas m
WHERE m.nome = n.marca;

ALTER TABLE notas_fiscais
ADD CONSTRAINT fk_marca
FOREIGN KEY (marca_id)
REFERENCES marcas(id);

ALTER TABLE marcas
ALTER COLUMN descricao TYPE VARCHAR(500);
```
---


# üìñ Manual do Usu√°rio ‚Äì Guardou-Pagou

## Sobre o Produto

O **Guardou-Pagou** √© um software desenvolvido para ajudar comerciantes e administradores a controlar o pagamento de faturas e notas fiscais, garantindo confiabilidade e automatiza√ß√£o de alertas. O sistema foi criado seguindo o m√©todo Scrum, sempre priorizando as necessidades dos usu√°rios finais e a melhoria cont√≠nua.

---

## √çndice

- [Equipe do Projeto](#equipe-do-projeto)
- [Como o Scrum foi Utilizado](#como-o-scrum-foi-utilizado)
- [Fluxo de Uso T√≠pico](#fluxo-de-uso-t√≠pico)
- [Funcionalidades do Sistema](#funcionalidades-do-sistema)
  - [Visualizar detalhes de uma Nota Fiscal](#1-visualizar-detalhes-de-uma-nota-fiscal-us-4)
  - [Visualizar faturas pendentes](#2-visualizar-faturas-pendentes-na-tela-inicial-us-2)
  - [Filtrar faturas por per√≠odo](#3-filtrar-faturas-por-per√≠odo-us-13)
  - [Filtrar faturas por marca](#4-filtrar-faturas-por-marca-us-14-us-6)
  - [Visualizar notas e faturas arquivadas](#5-visualizar-notas-e-faturas-arquivadas-us-7)
  - [Receber alertas por e-mail](#6-receber-alertas-por-e-mail-de-faturas-a-vencer-us-10-us-9)
- [Checklist R√°pido](#checklist-r√°pido)
- [Melhorias Futuras](#melhorias-futuras)
- [Envio de Feedback](#envio-de-feedback)
- [Hist√≥rico de Vers√µes](#hist√≥rico-de-vers√µes)

---

## Equipe do Projeto

- **Scrum Master:** Andrwss Aires Vieira
- **Product Owner:** Jo√£o Pedro Scheffler
- **UX/UI:** Anna Laura J.
- **QA:** Tauane Scapin
- **Devs:** Gabriel Berle (Tech Lead), Henrique Fredrich, Leonardo B de S

---

## Como o Scrum foi Utilizado

As funcionalidades do Guardou-Pagou foram planejadas e priorizadas com base em **hist√≥rias de usu√°rio** (User Stories), discutidas em reuni√µes de Sprint e validadas pelo Product Owner. O manual evoluiu junto com o sistema, acompanhando cada entrega e feedback das Sprints.

---

## Fluxo de Uso T√≠pico

1. Acesse o sistema para visualizar as faturas pendentes na tela inicial.
2. Utilize filtros por per√≠odo ou por marca para encontrar rapidamente notas e faturas.
3. Veja detalhes completos das notas fiscais e suas faturas associadas.
4. Marque faturas como "Emitida" para manter a lista sempre atualizada.
5. Receba alertas autom√°ticos por e-mail sobre faturas pr√≥ximas do vencimento.
6. Consulte notas arquivadas para revis√µes e auditorias.
7. Gerencie e-mails que receber√£o notifica√ß√µes.

---

## Funcionalidades do Sistema

### 1. Visualizar detalhes de uma Nota Fiscal (US-4)

Permite consultar todas as informa√ß√µes de uma nota fiscal e suas faturas associadas.

**Como usar:**
- Na lista principal, clique sobre a nota desejada.
- Uma janela/modal ser√° exibida mostrando:
  - N√∫mero da nota, data de emiss√£o, marca (fornecedor)
  - N√∫mero de faturas, vencimento, valor, status (Emitida/N√£o Emitida)
- Clique em **Fechar** ou **Voltar** para retornar √† listagem.

**Observa√ß√£o:**  
A visualiza√ß√£o √© somente leitura, sem possibilidade de edi√ß√£o.

---

### 2. Visualizar faturas pendentes na tela inicial (US-2)

Mostra todas as faturas n√£o emitidas mais pr√≥ximas do vencimento.

**Como usar:**
- Ao acessar a tela inicial, veja a lista de faturas pendentes, incluindo:
  - N√∫mero da nota, ordem da fatura, data de vencimento, marca, status
- Marque como "Emitida" quando necess√°rio.
- Ap√≥s todas as faturas de uma nota serem emitidas, a nota ser√° arquivada automaticamente ap√≥s 2 dias.

---

### 3. Filtrar faturas por per√≠odo (US-13)

Facilita a localiza√ß√£o de faturas por datas espec√≠ficas.

**Como usar:**
- Clique em **Filtrar** na tela principal.
- Selecione as datas de in√≠cio e fim.
- Clique em **Aplicar Filtro** para ver as faturas do per√≠odo.
- Clique em **Remover Filtro** para limpar a busca.

---

### 4. Filtrar faturas por marca (US-14, US-6)

Permite buscar faturas rapidamente por fornecedor.

**Como usar:**
- Clique em **Filtrar** e selecione "Por Marca".
- Digite a marca e clique em **Pesquisar**.
- Veja as notas e faturas associadas √† marca pesquisada.
- Se nenhuma for encontrada, uma mensagem ser√° exibida.

---

### 5. Visualizar notas e faturas arquivadas (US-7)

Acesso a documentos j√° quitados (todas as faturas emitidas).

**Como usar:**
- Acesse o menu de "Notas Arquivadas".
- Visualize a lista com:
  - N√∫mero da nota, quantidade de faturas, marca, data de arquivamento
- Utilize busca por n√∫mero, marca ou data.

**Observa√ß√£o:**  
Apenas visualiza√ß√£o, sem edi√ß√£o.  
Notas s√£o arquivadas 2 dias ap√≥s a √∫ltima fatura ser emitida.

---

### 6. Receber alertas por e-mail de faturas a vencer (US-10, US-9)

O sistema envia e-mails autom√°ticos para evitar atrasos em pagamentos.

**Como funciona:**
- Alertas enviados para os e-mails cadastrados quando faltam at√© 3 dias para o vencimento da fatura.
- Os alertas s√£o enviados diariamente at√© a fatura ser emitida.

**Como gerenciar e-mails:**
- Acesse a tela de configura√ß√£o de e-mails.
- Adicione ou remova endere√ßos (sem duplicados ou e-mails inv√°lidos).
- Todos os e-mails cadastrados recebem as notifica√ß√µes automaticamente.

---

## Checklist R√°pido

- [ ] Acesso ao sistema realizado
- [ ] E-mails de alerta cadastrados corretamente
- [ ] Primeiras notas e faturas registradas
- [ ] Filtros de busca testados
- [ ] Recebimento de alertas conferido

---

## Melhorias Futuras

- Exporta√ß√£o de relat√≥rios em PDF/Excel
- Hist√≥rico de altera√ß√µes em cada nota
- Perfis de usu√°rio e permiss√µes diferenciadas
- Integra√ß√£o com sistemas cont√°beis externos
- Novos filtros e notifica√ß√µes visuais internas

---

## Hist√≥rico de Vers√µes

- **v1.0:** Funcionalidades principais implementadas (visualiza√ß√£o, filtros, alertas)
- **v1.1:** Ajustes na tela de arquivadas e melhorias ap√≥s feedback das sprints

---

# ‚ÑπÔ∏è Outras Informa√ß√µes

## üìÇ Estrutura do Projeto

```
GuardouPagou/
resources/
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ styles.css
‚îú‚îÄ‚îÄ fonts/
‚îÇ   ‚îú‚îÄ‚îÄ Poppins-Bold.ttf
‚îÇ   ‚îú‚îÄ‚îÄ Poppins-Medium.ttf
‚îÇ   ‚îî‚îÄ‚îÄ Poppins-Regular.ttf
‚îî‚îÄ‚îÄ icons/
    ‚îú‚îÄ‚îÄ G-Clock(100x100px).png
    ‚îú‚îÄ‚îÄ G-Clock_bg(100x100px).png
    ‚îú‚îÄ‚îÄ G-Clock_home.png
    ‚îú‚îÄ‚îÄ archive.png
    ‚îú‚îÄ‚îÄ campaing.png
    ‚îú‚îÄ‚îÄ cancel.png
    ‚îú‚îÄ‚îÄ clean.png
    ‚îú‚îÄ‚îÄ list.png
    ‚îú‚îÄ‚îÄ plus.png
    ‚îî‚îÄ‚îÄ save.png
src/
‚îî‚îÄ‚îÄ com/
    ‚îî‚îÄ‚îÄ GuardouPagou/
        ‚îú‚îÄ‚îÄ controllers/
        ‚îÇ   ‚îú‚îÄ‚îÄ ArquivadasController.java
        ‚îÇ   ‚îú‚îÄ‚îÄ MainController.java
        ‚îÇ   ‚îú‚îÄ‚îÄ MarcaController.java
        ‚îÇ   ‚îú‚îÄ‚îÄ NotaFaturaController.java
        ‚îÇ   ‚îî‚îÄ‚îÄ NotaFiscalController.java
        ‚îú‚îÄ‚îÄ dao/
        ‚îÇ   ‚îú‚îÄ‚îÄ FaturaDAO.java
        ‚îÇ   ‚îú‚îÄ‚îÄ MarcaDAO.java
        ‚îÇ   ‚îú‚îÄ‚îÄ NotaFiscalArquivadaDAO.java
        ‚îÇ   ‚îî‚îÄ‚îÄ NotaFiscalDAO.java
        ‚îú‚îÄ‚îÄ models/
        ‚îÇ   ‚îú‚îÄ‚îÄ DatabaseConnection.java
        ‚îÇ   ‚îú‚îÄ‚îÄ Fatura.java
        ‚îÇ   ‚îú‚îÄ‚îÄ Main.java
        ‚îÇ   ‚îú‚îÄ‚îÄ Marca.java
        ‚îÇ   ‚îî‚îÄ‚îÄ NotaFiscal.java
        ‚îî‚îÄ‚îÄ views/
            ‚îú‚îÄ‚îÄ ArquivadasView.java
            ‚îú‚îÄ‚îÄ MainView.java
            ‚îú‚îÄ‚îÄ MarcaView.java
            ‚îú‚îÄ‚îÄ NotaFaturaView.java
            ‚îî‚îÄ‚îÄ NotaFiscalView.java
CONTRIBUTING.md
README.md
build.xml
manifest.mf
